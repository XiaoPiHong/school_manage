"use strict";(self["webpackChunkschool_manage_ts"]=self["webpackChunkschool_manage_ts"]||[]).push([[733],{8733:function(t,e,o){o.r(e),o.d(e,{default:function(){return p}});var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Row",{staticClass:"pd10"},[e("Col",{attrs:{span:"24"}},[e("p",[e("a",{attrs:{download:"",href:"http://localhost:3000/img/table_render_1.dd0bb72f.png"}},[t._v("点击下载同源的图片")])]),e("p",[t._v("1.a标签的download属性，只支持同源下载")]),e("hr"),e("p",[e("a",{attrs:{download:"",href:"https://img0.baidu.com/it/u=2517394238,2890851596&fm=26&fmt=auto&gp=0.jpg"}},[t._v("点击下载非同源的图片")])]),e("p",[t._v(" 1.a标签的download属性，下载非同源图片，download属性会失效，从而变成跳转 ")]),e("hr"),e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.download("https://img0.baidu.com/it/u=2517394238,2890851596&fm=26&fmt=auto&gp=0.jpg")}}},[t._v("通过Blob完成图片的下载")]),e("p",[t._v("1.通过Blob可实现下载文件（前提是设置了文件是允许被跨域请求）")]),e("hr"),e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.downloadImgByCanvas("https://img0.baidu.com/it/u=2517394238,2890851596&fm=26&fmt=auto&gp=0.jpg")}}},[t._v("通过canvas下载跨域图片")])],1)],1)},a=[],l=o(9203),r=function(t,e,o,n){var a,l=arguments.length,r=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(r=(l<3?a(r):l>3?a(e,o,r):a(e,o))||r);return l>3&&r&&Object.defineProperty(e,o,r),r};let c=class extends l.w3{download(t){const e=new XMLHttpRequest;e.open("GET",t),e.responseType="blob",e.send(),e.onload=function(){const t=e.response;console.log("获取到的blob二进制数据",t);const o=URL.createObjectURL(t);console.log("blob转成的url",o);const n=document.createElement("a");n.setAttribute("href",o),n.innerHTML="下载",n.setAttribute("download","下载的图片"),n.click()}}downloadImgByCanvas(t,e){let o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onload=function(){let t=document.createElement("canvas");t.width=o.width,t.height=o.height;let n=t.getContext("2d");n.drawImage(o,0,0,o.width,o.height);let a=t.toDataURL("image/png"),l=document.createElement("a"),r=new MouseEvent("click");l.download=e||"下载的图片",l.href=a,l.dispatchEvent(r)},o.src=t}};c=r([(0,l.wA)({name:"BlobCom",components:{}})],c);var s=c,d=s,i=o(3736),u=(0,i.Z)(d,n,a,!1,null,"4106c9c7",null),p=u.exports}}]);
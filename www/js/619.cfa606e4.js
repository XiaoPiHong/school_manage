"use strict";(self["webpackChunkschool_manage_ts"]=self["webpackChunkschool_manage_ts"]||[]).push([[619],{4619:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Row",{staticClass:"mt10 mb10"},[e("Col",{attrs:{span:12}},[e("h1",[t._v("1.强制缓存")]),e("img",{attrs:{src:a(6566),alt:""}}),e("p",[t._v(" 1.1.可以在服务器的nginx配置文件中配置响应头：(Chache-Control:max-age=300) 这个用户在第一次访问网站时，就会强制缓存下对应的浏览器觉得能缓存的文件 ")]),e("p",[t._v(" 1.2.下次再次访问相同的网站时，浏览器会判断(Chache-Control:max-age=300)中的max-age（最大有效时间，单位为秒）是否过期，没过期的话会从浏览器的缓存中拿对应的文件，而不会重新发送http请求去获取资源 ")]),e("p",[t._v(" 1.3.从浏览器缓存中获取的资源获取回来的状态码还是200，但是状态码右侧会显示是从浏览器缓存中获取的(from prefetch cache) ")]),e("p",[t._v(" 1.4.如果不想浏览器用这种强制缓存策略，可以设置响应头：(Chache-Control:no-cache) ")])]),e("Col",{attrs:{span:12}},[e("h1",[t._v("2.协商缓存（前提条件是服务器nginx设置是可以缓存的资源）")]),e("img",{attrs:{src:a(1406),alt:""}}),e("p",[t._v("2.1.是服务端的一种缓存策略")]),e("p",[t._v(" 2.2.用户在访问网站请求资源的时候会发送资源标识给服务器，如果服务器的资源标识和请求时候传过来的资源标识不一样（包含未请求过的情况），服务器就会返回200状态码、当前资源和当前资源最新的资源标识，相当于是一次完整的请求，请求体积大；如果服务器的资源标识和请求时候传过来的资源标识一致，服务器就会响应304的http状态码，浏览器就会自动的去缓存中拿该资源，服务器只返回304状态码，请求体积小 ")])]),e("Col",{staticClass:"mt10",attrs:{span:12}},[e("h1",[t._v("3.协商缓存资源标识")]),e("img",{attrs:{src:a(3395),alt:""}}),e("p",[t._v(" 3.1.标识有两种：Last-Modified（资源上一次修改的时间） 和 ETag（资源对应的唯一字符串） ")]),e("br"),e("p",[t._v(" 3.2.例子：客户端访问资源时如果该资源可以缓存，就把Last-Modified和资源一起返回到客户端，客户端存起来，再次请求该资源的时会把该资源的Last-Modified发送给服务端，服务端判断Last-Modified是否一致来响应200/304状态码，如果200状态码，浏览器就重新存储这个Last-Modified和资源，如果304状态码，浏览器会去缓存中获取资源 ")]),e("p",[t._v(" 3.3.浏览器发送给服务器的Last-Modified用的是另外的请求头键名：If-Modified-Since ")]),e("br"),e("p",[t._v("3.4.ETag和Last-Modified是同理的，只不过ETag是一串无意义的唯一字符串")]),e("p",[t._v("3.5.浏览器发送给服务器的ETag用的是另外的请求头键名：If-None-Match")]),e("br"),e("h2",[t._v("3.6.ETag和Last-Modified用哪个？")]),e("img",{attrs:{src:a(5923),alt:""}})]),e("Col",{staticClass:"mt10",attrs:{span:12}},[e("h1",[t._v("总结：")]),e("p",[e("a",{attrs:{href:"https://www.bilibili.com/video/BV1dU4y1J7es?p=1&share_medium=android&share_plat=android&share_source=WEIXIN&share_tag=s_i&timestamp=1655887869&unique_k=TwGhvtp"}},[t._v("观看视频")])])])],1)},o=[],c=a(9203),i=function(t,e,a,s){var o,c=arguments.length,i=c<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,s);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(i=(c<3?o(i):c>3?o(e,a,i):o(e,a))||i);return c>3&&i&&Object.defineProperty(e,a,i),i};let n=class extends c.w3{};n=i([(0,c.wA)({name:"CacheCom",components:{}})],n);var r=n,p=r,h=a(3736),_=(0,h.Z)(p,s,o,!1,null,"d8e4745a",null),f=_.exports},6566:function(t,e,a){t.exports=a.p+"img/http_cache_1.ca8cd394.png"},1406:function(t,e,a){t.exports=a.p+"img/http_cache_2.4ed03f11.png"},3395:function(t,e,a){t.exports=a.p+"img/http_cache_3.8b95f335.png"},5923:function(t,e,a){t.exports=a.p+"img/http_cache_4.b5a40bbc.png"}}]);
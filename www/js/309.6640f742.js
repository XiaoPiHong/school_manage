"use strict";(self["webpackChunkschool_manage_ts"]=self["webpackChunkschool_manage_ts"]||[]).push([[309],{8309:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e._self._c;e._self._setupProxy;return r("div",{staticClass:"content-box"},[r("div",{staticClass:"register-box"},[r("Form",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.formRules},nativeOn:{submit:function(e){e.preventDefault()}}},[r("FormItem",{attrs:{prop:"name"}},[r("Input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.registerForm.name,callback:function(r){e.$set(e.registerForm,"name","string"===typeof r?r.trim():r)},expression:"registerForm.name"}})],1),r("FormItem",{attrs:{prop:"phone"}},[r("Input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),r("FormItem",{attrs:{prop:"email"}},[r("Input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{placeholder:"请输入密码",type:"password",clearable:""},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),r("FormItem",{attrs:{prop:"rePassword"}},[r("Input",{attrs:{placeholder:"再次输入密码",type:"password",clearable:""},model:{value:e.registerForm.rePassword,callback:function(r){e.$set(e.registerForm,"rePassword",r)},expression:"registerForm.rePassword"}})],1),r("div",{staticClass:"operate-box"},[r("Button",{attrs:{type:"warning"},on:{click:e.register}},[e._v("注册")]),r("a",{attrs:{href:"javascript:void(0);"},on:{click:e.login}},[e._v("→登录")])],1)],1)],1)])},o=[],a=t(7327),i=(t(7658),t(9203)),n=t(2567),l=t(9566),m=function(e,r,t,s){var o,a=arguments.length,i=a<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,t):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,r,t,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(r,t,i):o(r,t))||i);return a>3&&i&&Object.defineProperty(r,t,i),i};let g=class extends i.w3{constructor(...e){super(...e),(0,a.Z)(this,"registerForm",new n.Z.RegisterForm),(0,a.Z)(this,"formRules",{name:[{validator:this.validateName,trigger:"change"}],email:[{validator:this.validateEmail,trigger:"change"}],phone:[{validator:this.validatePhone,trigger:"change"}],password:[{validator:this.validatePassword,trigger:"change"}],rePassword:[{validator:this.validateRePassword,trigger:"change"}]})}validateName(e,r,t){""===this.registerForm.name?t(new Error("请输入用户名")):this.registerForm.name.length<5||this.registerForm.name.length>10?t(new Error("用户名长度必须大于5且小于10")):t()}validateEmail(e,r,t){""===this.registerForm.email?t(new Error("请输入邮箱")):this.$pattern.email.test(this.registerForm.email)?t():t(new Error("请输入正确格式的邮箱"))}validatePhone(e,r,t){""===this.registerForm.phone?t(new Error("请输入手机号")):this.$pattern.mobile.test(this.registerForm.phone)?t():t(new Error("请输入正确的手机号"))}validatePassword(e,r,t){""===this.registerForm.password?t(new Error("请输入密码")):this.$pattern.password.test(this.registerForm.password)?this.registerForm.password.length<8||this.registerForm.password.length>20?t(new Error("请输入长度为8~20位的字母加数字组合密码")):t():t(new Error("请输入长度为8~20位的字母加数字组合密码"))}validateRePassword(e,r,t){""===this.registerForm.rePassword?t(new Error("请再次输入密码")):this.registerForm.password!=this.registerForm.rePassword?t(new Error("两次输入的密码不一致")):t()}register(){this.$refs.registerForm.validate((e=>{e&&(0,l.z)({username:this.registerForm.name,password:this.registerForm.rePassword,mobile:this.registerForm.phone,email:this.registerForm.email}).then((e=>{this.$Message.success("注册成功！"),this.$router.push({name:"Login"})})).catch((e=>{console.log(e)}))}))}login(){this.$router.push({name:"Login"})}};g=m([(0,i.wA)({name:"Register",components:{}})],g);var p=g,c=p,h=t(3736),d=(0,h.Z)(c,s,o,!1,null,"43863626",null),u=d.exports},9566:function(e,r,t){t.d(r,{x:function(){return o},z:function(){return a}});var s=t(430);function o(e){return(0,s.Z)({url:"/api/login",method:"post",data:e})}function a(e){return(0,s.Z)({url:"/api/public/users/register",method:"post",data:e})}}}]);
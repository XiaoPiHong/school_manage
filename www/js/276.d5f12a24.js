"use strict";(self["webpackChunkschool_manage_ts"]=self["webpackChunkschool_manage_ts"]||[]).push([[276],{6276:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Row",[t("Col",{staticClass:"mt10",attrs:{span:"24"}},[t("Button",{attrs:{type:"primary"},on:{click:e.searchList}},[e._v("搜索")]),t("Button",{attrs:{type:"warning"},on:{click:e.resetList}},[e._v("重置")])],1),t("Col",{staticClass:"mt10",attrs:{span:"24"}},[t("Table",{attrs:{columns:e.tableHead,data:e.list,stripe:"",height:e.tableHeight}})],1),t("Col",{staticClass:"mt10",attrs:{span:"24"}},[t("Page",{attrs:{current:e.pager.pageIndex,total:e.pager.totalItems,"page-size":e.pager.pageSize,"page-size-opts":e.pager.pageOpt,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)},r=[],i=s(7327),n=s(9203),o=s(2567),c=s(3836),l=s(1786),h=s(3822),g=function(e,t,s,a){var r,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(i<3?r(n):i>3?r(t,s,n):r(t,s))||n);return i>3&&n&&Object.defineProperty(t,s,n),n};let p=class extends n.w3{constructor(...e){super(...e),(0,i.Z)(this,"searchForm",new c.Z.UserComSearchForm),(0,i.Z)(this,"list",[]),(0,i.Z)(this,"tableHead",[{title:"姓名",key:"us_name",align:"center"},{title:"状态",key:"state",align:"center"},{title:"邮箱",key:"us_email",align:"center"},{title:"手机",key:"us_mobile",align:"center"},{title:"创建时间",key:"us_time",align:"center"},{title:"操作",width:150,align:"center",render:(e,t)=>e("div",[e("Button",{props:{type:"primary",size:"small"},on:{click:()=>{this.editUser(t.row)}}},"编辑"),e("Button",{style:{marginLeft:"10px"},props:{type:"error",size:"small"},on:{click:()=>{this.deleteUser(t.row)}}},"删除")])}]),(0,i.Z)(this,"pager",new o.Z.Pager)}get tableHeight(){return this.$ui.winHeight-60-10-40-40-10-45}mounted(){this.resetList()}getList(){(0,l.lE)({...this.searchForm,pagenum:this.pager.pageIndex,pagesize:this.pager.pageSize}).then((e=>{this.pager.totalItems=e.data.total,this.list=e.data.list})).catch((e=>{console.log(e)}))}searchList(){this.pager.pageIndex=1,this.getList()}resetList(){this.$set(this,"pager",new o.Z.Pager),this.$set(this,"searchForm",new c.Z.UserComSearchForm),this.getList()}changePageSize(e){this.pager.pageSize=e,this.getList()}changePage(e){this.pager.pageIndex=e,this.getList()}editUser(e){console.log(e)}deleteUser(e){(0,l.h8)(e.us_id).then((e=>{this.$Message.success("删除成功！"),this.getList()})).catch((e=>{console.log(e)}))}};p=g([(0,n.wA)({name:"UserCom",components:{},computed:{...(0,h.rn)({$ui:e=>e.systemModule.ui})}})],p);var u=p,m=u,d=s(3736),f=(0,d.Z)(m,a,r,!1,null,"33053c84",null),_=f.exports},3836:function(e,t,s){var a,r=s(7327);(function(e){class t{constructor(){(0,r.Z)(this,"query","")}}e.UserComSearchForm=t})(a||(a={})),function(e){class t{constructor(){(0,r.Z)(this,"query","")}}e.MenuComSearchForm=t;class s{constructor(){(0,r.Z)(this,"menu_el_id",""),(0,r.Z)(this,"menu_el_name",""),(0,r.Z)(this,"menu_parent_id",0)}}e.MenuComForm=s}(a||(a={})),t["Z"]=a}}]);
"use strict";(self["webpackChunkschool_manage_ts"]=self["webpackChunkschool_manage_ts"]||[]).push([[779],{5779:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Row",[t("Col",{attrs:{span:"24"}},[t("p",[e._v("1.HTML5定义了FileReader作为文件API的重要成员用于读取文件")]),t("p",[e._v(" 2.FileReader.readAsDataURL()方法，在读取指定的Blob/File中的内容后，一旦完成，FileReader实例对象的result属性中将包含一个data: URL格式的Base64字符串以表示所读取文件的内容 ")]),t("p",[e._v(" 3.FileReader.readAsArrayBuffer()方法，在读取指定的Blob/File中的内容后，一旦完成，FileReader实例对象的result属性中将包含一个ArrayBuffer的二进制数据缓冲区 ")]),t("p",[e._v(" 4.FileReader.readAsText()方法，在读取指定的Blob/File中的内容后，一旦完成，FileReader实例对象的result属性中将包含一个文本（文本的编码格式可设置，一般为utf-8） ")]),t("p",[e._v(" 5.base64格式的字符串图片可作为url显示图片，所以FileReader可以实现图片预览 ")]),t("Button",{attrs:{type:"primary"},on:{click:function(t){return e.getBase64("https://img0.baidu.com/it/u=2517394238,2890851596&fm=26&fmt=auto&gp=0.jpg")}}},[e._v("利用FileReader读取图片，返回base64格式的数据，显示图片")]),e.base64Img?t("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.base64Img,width:60,height:60}}):e._e(),t("hr"),t("h1",[e._v("input上传图片，FileReader实现预览")]),t("div",{staticClass:"upload"},[t("input",{attrs:{type:"file",multiple:"",accept:"image/png,image/jpeg,image/gif,/image/jpg"},on:{change:e.selectImg}}),t("Icon",{staticClass:"upload-icon",attrs:{type:"md-add"}})],1),e._l(e.base64List,(function(e,a){return t("img",{key:a,attrs:{width:150,height:150,src:e}})})),t("hr")],2)],1)},s=[],l=a(7327),i=(a(7658),a(9203)),n=function(e,t,a,r){var s,l=arguments.length,i=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,r);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(i=(l<3?s(i):l>3?s(t,a,i):s(t,a))||i);return l>3&&i&&Object.defineProperty(t,a,i),i};let o=class extends i.w3{constructor(...e){super(...e),(0,l.Z)(this,"base64Img",null),(0,l.Z)(this,"base64List",[])}getBase64(e){if(window.FileReader)return new Promise((t=>{fetch(e).then((e=>e.blob())).then((e=>{let a=new FileReader,r=this;a.onloadend=function(){console.log(a.result),r.base64Img=a.result,t(a.result)},a.readAsDataURL(e)})).catch((e=>{throw Error(e)}))}));alert("FileReader Not supported by your browser!")}async selectImg(e){let t=e.target.files,a=[];for(let r=0;r<t.length;r++)a.push(await this.getbase64Img(t[r]));this.base64List.push(...a),e.target.value=""}getbase64Img(e){return new Promise((t=>{let a=new FileReader;a.onloadend=function(e){t(e.target.result)},a.readAsDataURL(e)}))}};o=n([(0,i.wA)({name:"FileReaderCom",components:{}})],o);var u=o,c=u,d=a(3736),g=(0,d.Z)(c,r,s,!1,null,"4bdd05d4",null),p=g.exports}}]);